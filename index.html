<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Protocol - Ecosystem Flowchart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* Light gray background */
            color: #1f2937; /* Default text color */
        }
        .flow-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem; /* Space between main sections */
        }
        .flow-section {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem; /* Space below each section */
        }
        .flow-box {
            background-color: white;
            border: 1px solid #d1d5db; /* Gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            min-height: 90px; /* Minimum height for boxes */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .flow-box h3 {
            font-weight: 600;
            color: #4f46e5; /* Indigo-600 */
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .flow-box p {
            font-size: 0.875rem; /* text-sm */
            color: #4b5563; /* Gray-600 */
        }
        .flow-arrow {
            font-size: 1.5rem; /* text-2xl */
            color: #6b7280; /* Gray-500 */
            margin: 0.5rem 0; /* Vertical margin for arrows */
            text-align: center;
        }
        .flow-arrow-horizontal {
            font-size: 1.5rem;
            color: #6b7280;
            margin: 0 0.5rem; /* Horizontal margin */
        }
        .actor-lane {
            border: 2px dashed #9ca3af; /* Gray-400 dashed border */
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .actor-lane-title {
            font-size: 1.25rem; /* text-xl */
            font-weight: 700;
            color: #374151; /* Gray-700 */
            margin-bottom: 1rem;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        .marketplace-hub {
            background-color: #eef2ff; /* Indigo-50 */
            border: 2px solid #818cf8; /* Indigo-300 */
        }
        .blockchain-layer {
            background-color: #f0fdf4; /* Green-50 */
            border: 2px solid #86efac; /* Green-300 */
            margin-top: 1rem;
        }
        .interaction-group {
            display: flex;
            flex-direction: column; /* Default for mobile */
            align-items: center;
            gap: 0.5rem; /* Space between items in a group */
        }
        @media (min-width: 768px) { /* md breakpoint */
            .interaction-group {
                flex-direction: row; /* Row layout for wider screens */
                justify-content: center;
            }
        }
        .info-bubble {
            background-color: #fffbeb; /* Amber-50 */
            color: #b45309; /* Amber-700 */
            border: 1px solid #fde68a; /* Amber-200 */
            padding: 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <header class="mb-10 text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-indigo-700">Canvas Protocol</h1>
        <p class="text-lg md:text-xl text-gray-600">Full Ecosystem Flowchart (Phase 1 Focus)</p>
        <p class="text-sm text-gray-500 mt-2">This flowchart illustrates the interactions between users, publishers, various requesters (Advertisers, AI Corps, Academia), and the Canvas Protocol marketplace, highlighting the value flow and the on-chain nature of the marketplace.</p>
    </header>

    <div class="flow-container max-w-6xl mx-auto">

        <section class="flow-section actor-lane">
            <h2 class="actor-lane-title">ðŸ‘¤ End User Journey</h2>
            <div class="grid grid-cols-1 md:grid-cols-5 items-center gap-2 md:gap-4">
                <div class="flow-box">
                    <h3>1. Discovery</h3>
                    <p>User searches via AI Assistant or browses web.</p>
                </div>
                <div class="flow-arrow md:block hidden">âž”</div>
                <div class="flow-arrow md:hidden">â¬‡</div>
                <div class="flow-box">
                    <h3>2. Clicks Link</h3>
                    <p>User clicks a link to external content (e.g., blog, news site).</p>
                </div>
                <div class="flow-arrow md:block hidden">âž”</div>
                <div class="flow-arrow md:hidden">â¬‡</div>
                <div class="flow-box">
                    <h3>3. Verification Triggered</h3>
                    <p>(On Publisher's Site) Interstitial explains upcoming Canvas CAPTCHA.</p>
                </div>
                <div class="flow-arrow md:block hidden">âž”</div>
                <div class="flow-arrow md:hidden">â¬‡</div>
                <div class="flow-box">
                    <h3>4. Solves Canvas CAPTCHA</h3>
                    <p>User completes engaging interactive task (ad experience, data labeling, survey question).</p>
                    <div class="info-bubble">Benefit: Engaging verification, (future: crypto rewards). Exposed to brand/contributes data.</div>
                </div>
                <div class="flow-arrow md:block hidden">âž”</div>
                <div class="flow-arrow md:hidden">â¬‡</div>
                <div class="flow-box">
                    <h3>5. Accesses Content</h3>
                    <p>User successfully verified and gains access to the Publisher's content.</p>
                </div>
            </div>
        </section>

        <div class="flow-arrow text-4xl">â†•</div>

        <section class="flow-section grid grid-cols-1 md:grid-cols-3 gap-4 items-start">
            
            <div class="actor-lane">
                <h2 class="actor-lane-title">ðŸ“° Publisher (Websites/Apps)</h2>
                <div class="flow-box">
                    <h3>A. Integrates Canvas SDK</h3>
                    <p>Embeds Canvas Protocol on their site/app.</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box">
                    <h3>B. Offers CAPTCHA Inventory</h3>
                    <p>Interactive CAPTCHA slots become available on the Canvas Marketplace.</p>
                    <p class="text-xs">(Sets category, estimated views, floor price)</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box marketplace-hub">
                    <h3>C. Receives Task Assignment</h3>
                    <p>From Canvas Marketplace, to display specific Ad/Data Task to End User.</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box blockchain-layer">
                    <h3>D. Receives Payout</h3>
                    <p>Revenue share (e.g., XLM, ETH/Stablecoin) via blockchain for successful CAPTCHA interactions.</p>
                    <div class="info-bubble">Incentive: Monetizes verification traffic.</div>
                </div>
            </div>

            <div class="actor-lane marketplace-hub">
                <h2 class="actor-lane-title">ðŸ”„ Canvas Protocol (B2B Marketplace)</h2>
                <div class="flow-box">
                    <h3>Central Hub (On-Chain Logic)</h3>
                    <p>Facilitates discovery, bidding, and matching for diverse human interaction tasks (Ads, AI Training, Surveys) on Stellar or Ethereum L2 (via EigenLayer AVS).</p>
                </div>
                <div class="flow-arrow">â†•</div>
                <div class="flow-box">
                    <h3>Manages Task Serving Logic</h3>
                    <p>Delivers appropriate CAPTCHA experience (ad, data task, survey) based on accepted bids/campaigns.</p>
                </div>
                <div class="flow-arrow">â†•</div>
                <div class="flow-box blockchain-layer">
                    <h3>Processes Transactions & Verifications</h3>
                    <p>Handles B2B payments and executes marketplace auction/matching logic on Stellar/L2.
                       (If EigenLayer AVS: Manages "Proof of Human Interaction" attestations for all task types, ensuring data integrity.)</p>
                </div>
                <div class="flow-arrow">â†•</div>
                <div class="flow-box">
                    <h3>Provides Analytics & Reporting</h3>
                    <p>Offers engagement data, completion rates, and task-specific metrics to Requesters.</p>
                </div>
                 <div class="flow-arrow">â†•</div>
                <div class="flow-box">
                    <h3>Takes Protocol Commission</h3>
                    <p>Fee on successful marketplace transactions, processed on-chain.</p>
                </div>
            </div>

            <div class="actor-lane">
                <h2 class="actor-lane-title">ðŸ“¢ Requesters (Advertisers, AI Corps, Academia)</h2>
                <div class="flow-box">
                    <h3>X. Defines Campaign/Task</h3>
                    <p>Sets budget, defines task: ad creative, AI model training parameters, or academic survey design.</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box">
                    <h3>Y. Bids on Inventory/Tasks</h3>
                    <p>Places bids for CAPTCHA slots/human interaction tasks on the Canvas Marketplace.</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box blockchain-layer">
                    <h3>Z. Pays for Campaign/Task</h3>
                    <p>Funds campaign (e.g., XLM, ETH/Stablecoin) via blockchain upon bid acceptance or task completion milestones.</p>
                </div>
                <div class="flow-arrow">â¬‡</div>
                <div class="flow-box marketplace-hub">
                    <h3>W. Receives Value</h3>
                    <p>Gets verified human attention/engagement, AI training data, or survey responses. Receives analytics.</p>
                    <div class="info-bubble">Incentive: Effective, bot-free engagement; high-quality, verified data.</div>
                </div>
            </div>
        </section>

        <section class="flow-section mt-4">
            <div class="flow-box blockchain-layer p-6">
                <h3 class="text-xl">ðŸ”— Blockchain Layer (Stellar or EigenLayer AVS on Ethereum/L2)</h3>
                <p class="mt-2">
                    Provides the trust, security, and infrastructure for:
                </p>
                <ul class="list-disc list-inside mt-2 text-sm text-left max-w-md mx-auto">
                    <li>Secure and transparent B2B payments and core **marketplace operations (e.g., auctions, order matching)**.</li>
                    <li>(If EigenLayer AVS) Verifiable **"Proof of Human Interaction" attestations**, secured by restaked ETH, ensuring the integrity of the verification process for all task types (ads, data labeling, surveys).</li>
                    <li>Potential future on-chain governance and user reward distributions.</li>
                </ul>
            </div>
        </section>
    </div>

    <footer class="text-center text-gray-500 text-sm mt-12 mb-6">
        Canvas Protocol - Demo Flowchart
    </footer>

</body>
</html>
